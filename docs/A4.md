# A4 ‚Äî Dise√±o de Proceso & Plan

---

[**Descargar Documento A4 completo en formato PDF**](assets/pdfs/A4.pdf)

---

### **Introducci√≥n y Arquitectura Global** 

El prop√≥sito de este documento es detallar el dise√±o de FireSight, especificando sus componentes l√≥gicos, su despliegue f√≠sico y los procesos que implementan los requerimientos definidos anteriormente. El dise√±o se fundamenta en los supuestos y restricciones ya establecidos y se utilizaron las vistas del Modelo 4+1 para asegurar una cobertura completa del dise√±o del software. 

### **Vista L√≥gica**

La Vista L√≥gica se centra en la funcionalidad y la estructura interna del sistema, independiente de la tecnolog√≠a espec√≠fica o del despliegue.

#### Componentes del Sistema

El sistema se organiza en m√≥dulos l√≥gicos que encapsulan funcionalidades espec√≠ficas, garantizando la modularidad y la clara separaci√≥n de responsabilidades.

![Diagrama de Componentes](assets/images/Diagrama_componentes.png)

#### Modelo de Dominio y Datos

El modelo de dominio define la estructura de datos que asegura la consistencia con los requisitos funcionales.

![Diagrama de Entidad-Relaci√≥n](assets/images/Diagrama_ER.png)

### **Vista de Procesos**

La Vista de Procesos describe la din√°mica del sistema, la concurrencia y los flujos de control. Esto asegura que los componentes l√≥gicos interact√∫en de manera coherente para cumplir los casos de uso definidos.

#### Casos de Uso y Escenarios Clave

El Diagrama de Caso de Uso define los escenarios funcionales clave que el sistema debe satisfacer, agrupados por rol (Usuario y Admin).

![Diagrama de Caso de Uso](assets/images/Diagrama_caso_uso.png)

#### Flujo de Trabajo

El Diagrama de Flujo detalla las actividades y las interacciones para los diferentes niveles operativos del sistema. Se distingue claramente el Flujo de Usuario Est√°ndar, enfocado en la visualizaci√≥n, filtros y b√∫squeda, del Flujo de Administrador, que incluye la gesti√≥n de datos.

![Diagrama de Flujo](assets/images/Diagrama_flujo.png)

### **Vista de Desarrollo y F√≠sica**

Esta vista describe la organizaci√≥n del software en el entorno de desarrollo y su topolog√≠a f√≠sica de ejecuci√≥n.

#### Despliegue

El Diagrama de Despliegue muestra c√≥mo los artefactos de software se asignan a los nodos de hardware y los entornos de ejecuci√≥n.

![Diagrama de Despliegue](assets/images/Diagrama_despliegue.png)

### **Trazabilidad y Coherencia Global**

La Matriz de Trazabilidad es la evidencia de que todas las vistas son consistentes y que cada requisito est√° cubierto por al menos un elemento de dise√±o.

#### Matriz de Trazabilidad Consolidada (Requerimiento por Requerimiento)

| Req ID | Vista L√≥gica: Componente(s) de Software | Vista L√≥gica: Entidad(es) del Modelo ER | Vistas Procesos / Escenarios: Flujo/Caso de Uso | Justificaci√≥n |
| :--- | :--- | :--- | :--- | :--- |
| **RF01** | Aplicaci√≥n Frontend | N/A | Flujo Desplegar Mapa Interactivo (CU-1) | Carga inicial del mapa geogr√°fico principal. |
| **RF02** | Aplicaci√≥n Frontend, Leaflet.js | N/A | Flujo Desplegar Mapa Interactivo (CU-1) | El componente principal de la interfaz es el mapa interactivo. |
| **RF03** | Aplicaci√≥n Frontend, Leaflet.js | N/A | Flujo Desplegar Mapa Interactivo (CU-1) | Funcionalidad b√°sica de navegaci√≥n cartogr√°fica (zoom/pan). |
| **RF04** | Aplicaci√≥n Frontend, Base de datos (PostGIS) | Incidente (Ubicacion\_GEOM) | Flujo Desplegar Mapa Interactivo (CU-1) | Renderizaci√≥n de la ubicaci√≥n georreferenciada de los incidentes. |
| **RF05** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Desplegar Mapa Interactivo (CU-1) | Despliegue de resumen de datos al interactuar con el marcador. |
| **RF06** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo de Usuario Est√°ndar (Acceder a Vista de Detalle) | Obtenci√≥n y visualizaci√≥n de todos los atributos del registro a trav√©s de la API. |
| **RF07** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Aplicar Filtros (CU-3) | Filtro din√°mico de datos por rango temporal. |
| **RF08** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Aplicar Filtros (CU-3) | Filtro de datos por el campo Tipo de la entidad Incidente. |
| **RF09** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Aplicar Filtros (CU-3) | Filtro de datos por el campo Severidad de la entidad Incidente. |
| **RF10** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Aplicar Filtros (CU-3) | L√≥gica de negocio en la API para combinar m√∫ltiples filtros. |
| **RF11** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Aplicar Filtros (CU-3) | Funcionalidad de b√∫squeda r√°pida por el campo ID\_Incidente. |
| **RF12** | Aplicaci√≥n Frontend | Incidente | Flujo Ver Historial en Tabla | Presentaci√≥n de los resultados de incidentes en formato tabular. |
| **RF13** | Aplicaci√≥n Frontend | Incidente | Flujo Funcionalidades de Tabla | Implementaci√≥n de la paginaci√≥n de los resultados en la tabla. |
| **RF14** | Aplicaci√≥n Frontend | Incidente | Flujo Funcionalidades de Tabla | Implementaci√≥n de la ordenaci√≥n ascendente/descendente por columna. |
| **RF15** | Aplicaci√≥n Frontend, API RESTful | Incidente, Usuario | Flujo Gestionar Datos (Crear/Editar) (CU-5) | Interfaz y l√≥gica de API para la creaci√≥n de nuevos registros (requiere Rol de Usuario). |
| **RF16** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Gestionar Datos (Crear/Editar) (CU-5) | Soporte para el ingreso de datos geoespaciales (lat/lon) y atributos clave. |
| **RF17** | API RESTful | N/A | Flujo Gestionar Datos (Crear/Editar) | Implementaci√≥n de validaciones en la capa de la API para asegurar la integridad de los datos. |
| **RF18** | Aplicaci√≥n Frontend | N/A | Flujo Desplegar Mapa Interactivo | Muestra la simbolog√≠a de los elementos representados en el mapa. |
| **RF19** | Aplicaci√≥n Frontend, Paquete de aplicaci√≥n M√≥vil | N/A | Flujo de Usuario Est√°ndar | Dise√±o de interfaz adaptable (responsivo) para escritorio y tabletas. |
| **RF20** | Aplicaci√≥n Frontend, Base de datos (PostGIS) | Estacion\_Bomberos (Ubicacion\_GEOM) | Flujo Desplegar Mapa Interactivo | Visualizaci√≥n de la capa est√°tica de ubicaciones de estaciones de bomberos. |
| **RF21** | Aplicaci√≥n Frontend | N/A | Flujo Acceder a Dashboard de Anal√≠tica (CU-7) | Componente contenedor que muestra indicadores y res√∫menes de datos. [11] |
| **RF22** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico (CU-7) | C√°lculo y presentaci√≥n del KPI de incidentes de las √∫ltimas 24 horas. |
| **RF23** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico (CU-7) | Agregaci√≥n y presentaci√≥n de incidentes por tipo de evento en la √∫ltima semana. |
| **RF24** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico (CU-7) | Generaci√≥n de gr√°fico de barras comparando tipolog√≠as de incidentes. |
| **RF25** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico (CU-7) | Gr√°fico de l√≠neas que muestra la evoluci√≥n diaria del volumen de incidentes. |
| **RF26** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico (CU-7) | Generaci√≥n de gr√°fico circular de distribuci√≥n de severidad. |
| **RF27** | Aplicaci√≥n Frontend, API RESTful, Base de datos (PostGIS) | Incidente | Flujo Nivel T√°ctico (CU-9) | Capacidad de an√°lisis espacial para generar visualizaci√≥n de densidad (heatmap). |
| **RF28** | Aplicaci√≥n Frontend, API RESTful | N/A | Flujo Nivel T√°ctico | Control de la interfaz para ajustar el periodo de tiempo del mapa de calor. |
| **RF29** | Aplicaci√≥n Frontend, API RESTful | Zona\_Geogr√°fica | Flujo Nivel T√°ctico | Identificaci√≥n y listado de zonas con mayor frecuencia de incidentes. |
| **RF30** | Aplicaci√≥n Frontend | N/A | Flujo Nivel T√°ctico (Interactividad) | L√≥gica de la interfaz que permite filtrar el mapa al interactuar con un gr√°fico. |
| **RF31** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico | C√°lculo y presentaci√≥n del tiempo promedio de respuesta simulado. |
| **RF32** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico (CU-11) | Funcionalidad en la API para generar y exportar datos filtrados a formato CSV. |
| **RF33** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico | Presentaci√≥n de incidentes agrupados por franja horaria. |
| **RF34** | Aplicaci√≥n Frontend | N/A | Flujo Nivel T√°ctico | Control de filtro de fechas para la sincronizaci√≥n de todos los widgets del dashboard. |
| **RF35** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel T√°ctico | Panel dedicado a la lista de los incidentes m√°s recientes. |
| **RF36** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico (CU-8) | Gr√°fico de tendencias que muestra la evoluci√≥n mensual de incidentes en el √∫ltimo a√±o. |
| **RF37** | Aplicaci√≥n Frontend, API RESTful, Base de datos (PostGIS) | Incidente, Zona\_Geogr√°fica | Flujo Nivel Estrat√©gico | An√°lisis geoespacial avanzado para la identificaci√≥n de zonas con *alta concentraci√≥n (hotspots)*. |
| **RF38** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico | C√°lculo del KPI de cumplimiento de tiempo de respuesta objetivo. |
| **RF39** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico | L√≥gica de comparaci√≥n de volumen de incidentes entre trimestres. |
| **RF40** | Aplicaci√≥n Frontend, Base de datos (PostGIS) | Estacion\_Bomberos (Ubicacion\_GEOM) | Flujo Nivel Estrat√©gico | Visualizaci√≥n de zonas de servicio alrededor de las estaciones (radio de 5 km). |
| **RF41** | Aplicaci√≥n Frontend, API RESTful | Incidente, Zona\_Geogr√°fica | Flujo Nivel Estrat√©gico | Reporte que identifica el tipo de incidente m√°s frecuente por √°rea geogr√°fica. |
| **RF42** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico | C√°lculo y presentaci√≥n de una proyecci√≥n lineal simple de incidentes futuros. |
| **RF43** | Aplicaci√≥n Frontend, API RESTful | Incidente, Estacion\_Bomberos | Flujo Nivel Estrat√©gico | L√≥gica de comparaci√≥n de rendimiento (incidentes atendidos) entre estaciones. |
| **RF44** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico | Gr√°fico de tendencia espec√≠fica para un solo tipo de incidente a lo largo del tiempo. |
| **RF45** | Aplicaci√≥n Frontend, API RESTful | Incidente, Zona\_Geogr√°fica | Flujo Nivel Estrat√©gico | Identificaci√≥n de √°reas donde el tiempo de respuesta simulado excede el promedio. |
| **RF46** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico | C√°lculo del KPI de la tasa de cambio de incidentes de alta severidad. |
| **RF47** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico (CU-10) | Funcionalidad para generar un resumen anual consolidado de estad√≠sticas. |
| **RF48** | Aplicaci√≥n Frontend | N/A | Flujo Nivel Estrat√©gico | Soporte para superposici√≥n visual de capas de datos externos (ej. infraestructura obsoleta). |
| **RF49** | Aplicaci√≥n Frontend, API RESTful | Incidente | Flujo Nivel Estrat√©gico | An√°lisis de recurrencia de incidentes en una misma ubicaci√≥n geogr√°fica. |
| **RF50** | Aplicaci√≥n Frontend, API RESTful, Base de datos (PostGIS) | Zona\_Geogr√°fica (Indice\_Prioridad\_Zonal) | Flujo Nivel Estrat√©gico (CU-7) | C√°lculo y presentaci√≥n del √≠ndice clave de prioridad zonal (requiere datos de densidad y severidad). |

### **Plan de Trabajo**

Esta secci√≥n aborda la gesti√≥n del proyecto y el plan de ejecuci√≥n, detallando c√≥mo se organizar√° el trabajo para cumplir con los objetivos dentro del plazo establecido, bas√°ndose en la herramienta Trello para la planificaci√≥n y el seguimiento.

#### Roadmap e Iteraciones

El plan de trabajo se basa en una metodolog√≠a √°gil que divide el desarrollo en fases/iteraciones manejables. Trello funciona como nuestro roadmap visual al permitirnos organizar las tareas en listas que representan las etapas del desarrollo.

*   **Hitos Temporales:** Las tarjetas en Trello se asignan a sprints con fechas de vencimiento, permitiendo una visualizaci√≥n clara del avance del proyecto.
*   **Entregables Esperados:** Cada tarjeta de Trello representa un entregable espec√≠fico, lo que asegura claridad en los resultados intermedios.

#### Asignaci√≥n de Roles y Responsabilidades

La asignaci√≥n de responsabilidades es gestionada directamente en la plataforma Trello.

*   **Identificaci√≥n y Asignaci√≥n:** Cada miembro del equipo tiene un rol asignado, y Trello se utiliza para asignar expl√≠citamente a los responsables de cada tarea.
*   **Distribuci√≥n de Tareas:** La visualizaci√≥n del tablero de Trello facilita el seguimiento del trabajo repartido, ayudando a prevenir la sobrecarga y fomentando la colaboraci√≥n.

### Gesti√≥n de Riesgos

La siguiente matriz identifica y prioriza los riesgos clave del proyecto y detalla las estrategias de mitigaci√≥n asociadas a las decisiones de dise√±o y el plan de trabajo.

| Riesgo | Impacto / Probabilidad | Estrategia de Mitigaci√≥n / Contingencia |
| :--- | :--- | :--- |
| R1. Resistencia al cambio por parte del personal de bomberos. | Alto / Medio | Dise√±o intuitivo cumpliendo el RNF02 (usabilidad), requiriendo menos de 30 minutos de capacitaci√≥n. |
| R2. Incompatibilidad con infraestructura obsoleta y sistemas heredados. | Alto / Medio | Implementar una API RESTful para interoperabilidad est√°ndar. Usar la funcionalidad RF48 (superposici√≥n de capas ex√≥genas) para el an√°lisis de correlaci√≥n. |
| R3. Retraso en la ingesta y validaci√≥n del 1 mill√≥n de datos sint√©ticos. | Alto / Medio | Optimizar los scripts de Python (Faker/GeoPandas) mediante una tarea prioritaria en Trello para acelerar la ingesta de datos. |
| R4. Riesgo T√©cnico: Incompatibilidad al usar Capacitor con librer√≠as geoespaciales avanzadas. | Alto / Medio | Realizar una investigaci√≥n t√©cnica temprana para validar la compatibilidad de Capacitor con librer√≠as geoespaciales. |
| R5. Riesgo de Rendimiento: La carga de 5,000 puntos y las consultas complejas no cumplen con el RNF01. | Alto / Bajo | Utilizar Node.js (modelo as√≠ncrono) y PostGIS (soporte geoespacial nativo) para asegurar la velocidad de las consultas y cumplir con RNF01. |

#### Herramientas de Gesti√≥n y Seguimiento

Se han especificado las herramientas de gesti√≥n para la transparencia y la medici√≥n del avance.

*   **Herramientas Especificadas:** Trello es la herramienta principal para la planificaci√≥n. GitHub se usa para el control de versiones, y Discord para la comunicaci√≥n.
*   **Seguimiento del Progreso:** Trello permite medir el progreso moviendo las tareas entre las listas To Do, In Progress y Done, lo que refuerza la transparencia en la gesti√≥n.

#### Tablero de Trello

<iframe src="https://trello.com/b/8hdlknER.html" width="100%" height="600" frameborder="0" style="border: 1px solid #ccc; border-radius: 8px;"></iframe>

**üîó [Acceder al Tablero de Trello - Project Management](https://trello.com/b/8hdlknER/project-management)** *(Para interactuar con el tablero)*


